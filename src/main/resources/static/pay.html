<script>
  function onBridgeReady(){
    WeixinJSBridge.invoke(
      'getBrandWCPayRequest', {
        "appId":"wxd898fcb01713c658",     //公众号名称，由商户传入
        "timeStamp":"1502354083",         //时间戳，自1970年以来的秒数
        "nonceStr":"cvX6gV81cqwNKms0", //随机串
        "package":"prepay_id=wx20170810163432520c728ee20405311354",
        "signType":"MD5",         //微信签名方式：
        "paySign":"ED2FD4EF2DA01E0A20E8B11C52FC8224" //微信签名
      },
      function(res){
        if(res.err_msg == "get_brand_wcpay_request:ok" ) {}     // 使用以上方式判断前端返回,微信团队郑重提示：res.err_msg将在用户支付成功后返回    ok，但并不保证它绝对可靠。
      }
    );
  }
  if (typeof WeixinJSBridge == "undefined"){
    if( document.addEventListener ){
      document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
    }else if (document.attachEvent){
      document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
      document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
    }
  }else{
    onBridgeReady();
  }
</script>